<form [formGroup]="groupForm">
  <div class="create-group-container">
    <div class="modal-header">
      <div class="modal-title text-medium font-weight-500 text-black-300 text-left" id="modal-basic-title">
        {{ (isCreate ? 'add group' : 'edit group') | translate }}
      </div>
      <button type="button" class="close none-outline btn-close" aria-label="Close" (click)="clickedClose()">
        <div class="icon-close btn-icon-close"></div>
      </button>
    </div>
    <ng-template [ngIf]="!errMess">
      <div class="modal-body">
        <ul class="invalid mb-3 text-normal text-black-300" *ngIf="isError">
          <li *ngIf="groupForm.controls.group_name?.errors?.required">
            {{ 'validator.required' | translate: { field: 'name' | translate } }}
          </li>
          <li *ngIf="groupForm.controls.group_name.errors?.file_name">
            {{ 'validator.file name' | translate: { field: 'patient id' | translate } }}
          </li>
          <li *ngIf="groupForm.controls.group_name?.errors?.maxlength">
            {{ 'validator.maxlength' | translate: { field: 'name' | translate, length: 255 } }}
          </li>
          <li *ngIf="groupForm.controls.group_description?.errors?.maxlength">
            {{ 'validator.maxlength' | translate: { field: 'description' | translate, length: 255 } }}
          </li>
          <li *ngIf="isGroupExits && this.groupForm.valid">
            {{ 'group name has exist. please input another name.' | translate }}
          </li>
          <li [class.px-2]="sharedService.isJa()" *ngIf="validationErr">
            {{ 'errMsg.' + validationErr | translate }}
          </li>
        </ul>

        <div class="mb-3 d-flex align-items-center">
          <label for="name" class="form-label m-0 d-flex justify-content-end text-normal text-no-wrap">
            <span class="mr-1" class="required">*</span>
            {{ 'name' | translate }} :
          </label>
          <input
            type="name"
            class="form-control ml-2"
            [placeholder]="'name' | translate"
            formControlName="group_name"
            maxlength="255"
            id="name"
          />
        </div>
        <div class="d-flex align-items-center">
          <label for="description" class="form-label text-normal m-0 d-flex justify-content-end text-no-wrap">
            {{ 'description' | translate }} :
          </label>
          <input
            type="description"
            class="form-control ml-2"
            placeholder="{{ 'info of group' | translate }}"
            formControlName="group_description"
            maxlength="255"
            id="description"
          />
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-secondary btn-close text-black-300 text-normal mr-2"
          (click)="clickedClose()"
        >
          {{ 'button.Close' | translate }}
        </button>
        <button type="submit" class="btn btn-primary bg-blue-500 btn-close text-normal" (click)="submitClicked()">
          {{ (isCreate ? 'button.add' : 'button.save') | translate }}
        </button>
      </div>
    </ng-template>
    <ng-template [ngIf]="errMess">
      <div class="modal-body text-break px-24">
        <div class="error">{{ ':field does not exist' | translate: { field: 'Group' | translate } }}</div>
      </div>
      <div (click)="clickedClose()" class="modal-footer cursor-pointer justify-content-center">
        <div class="btn-close text-large text-black-300">
          {{ 'button.Close' | translate }}
        </div>
      </div>
    </ng-template>
  </div>
</form>
