<ng-container>
  <div class="content-div">
    <div class="font-weight-700 fs-20 mb-3">{{ 'enter registration information' | translate }}</div>
    <form [formGroup]="patientForm">
      <div class="text-normal text-left mb-3">
        {{ 'please enter your user information in the blank.' | translate }}
      </div>
      <div class="text-normal text-left mb-3">
        {{
          'if there are any entered items, please check that the contents are correct before registering.' | translate
        }}
      </div>
      <ul class="invalid text-normal text-left text-black-300" *ngIf="isError">
        <li *ngIf="patientForm.controls.full_name.errors?.required">
          {{ 'validator.required' | translate: { field: 'name (kanji)' | translate } }}
        </li>
        <li *ngIf="patientForm.controls.birthday.errors?.required">
          {{ 'validator.required' | translate: { field: 'date of birth' | translate } }}
        </li>
      </ul>

      <div class="d-flex text-left mb-3 flex-wrap mh-61">
        <div class="div-input">
          <label for="patient-name" class="text-no-wrap mb-2 text-normal">
            {{ 'name (kanji)' | translate }} <span class="required">*</span>:
          </label>
          <input
            type="text"
            id="patient-name"
            formControlName="full_name"
            class="form-control first-row-input"
            maxlength="50"
            placeholder="{{ 'please enter one character between the first and last name' | translate }} "
            appTransformSpace
          />
        </div>
      </div>

      <div class="d-flex text-left mb-3 flex-wrap mh-61">
        <div class="div-input">
          <label class="form-label mb-2 text-right text-normal">
            {{ 'sex' | translate }} <span class="required">*</span>:
          </label>
          <div ngbDropdown #sexDropdown class="select-box">
            <button
              type="button"
              class="
                btn btn-outline-secondary
                text-black-300
                second-row-input
                d-flex
                align-items-center
                disabled-ignore
              "
              id="dropdownBasic2"
              ngbDropdownToggle
            >
              <div class="text text-black-300 text-truncate text-normal">
                {{ (patientForm.controls.gender.value === sex.FEMALE ? 'Female' : 'Male') | translate }}
              </div>
              <i
                class="fas my-auto icon icon-select ml-auto opacity-25 text-black-300"
                [class]="ngbSexDropdown?.isOpen() ? 'icon-arrow-up' : 'icon-arrow-down'"
              ></i>
            </button>
            <div class="p-0" ngbDropdownMenu aria-labelledby="dropdownBasic2">
              <div
                *ngFor="let item of genders"
                class="d-flex align-items-start m-0 select-item cursor-pointer"
                (click)="selectedItem(item.value)"
                [class.active]="item.value === patientForm.controls.gender.value"
              >
                {{ item.text | translate }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex text-left mb-3 flex-wrap mh-61">
        <div class="div-input">
          <label for="patient-birthday" class="text-no-wrap mb-2 text-normal">
            {{ 'date of birth' | translate }} <span class="required">*</span>:
          </label>
          <app-custom-datepicker
            id="patient-birthday"
            class="w-246"
            inputClass="w-246 h-32 text-normal"
            [minDate]="minDate"
            [maxDate]="maxDate"
            [hasIcon]="true"
            [date]="patientForm.controls.birthday.value"
            [format]="sharedService.isJa() ? 'y年MM月DD日' : 'D MMM y'"
            (dateChange)="onDateChange($event)"
            [placeholder]="'date of birth' | translate"
          ></app-custom-datepicker>
        </div>
      </div>

      <div class="text-left mb-3 email-address">
        <label class="text-no-wrap mb-2 text-normal"> {{ 'email address' | translate }} : </label>
        <div>{{ patientForm.controls.email.value }}</div>
      </div>

      <div class="d-flex form-actions">
        <button type="submit" (click)="onNextClicked()" class="btn btn-primary ml-auto mr-2 bg-blue-300 text-normal">
          {{ 'button.next' | translate }}
        </button>
        <button type="button" (click)="onCancelClicked()" class="btn btn-outline-secondary text-black-300 text-normal">
          {{ 'button.Cancel' | translate }}
        </button>
      </div>
    </form>
  </div>
</ng-container>
